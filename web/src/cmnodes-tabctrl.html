<link rel="import" href="../lib/polymer/polymer.html">
<link rel="import" href="../lib/paper-tabs/paper-tabs.html">
<link rel="import" href="../lib/paper-tabs/paper-tab.html">
<link rel="import" href="../lib/core-pages/core-pages.html">
<link rel="import" href="../lib/core-icon/core-icon.html">

<polymer-element name="cmnodes-tabctrl" attributes="items">
    <style>
    </style>
    <template>
        <paper-tabs id="tctrl" noink selected="{{selected}}" on-core-select="{{selectTab}}">
            <template repeat="{{ item in items}}">
                <paper-tab>
                    <div flex>{{item.name}}</div>
                    <core-icon icon="cancel" on-click="{{closeTab}}" style="pointer-events:all;"></core-icon>
                </paper-tab>
            </template>
        </paper-tabs>
        <core-pages selected="{{selected}}">
            <template repeat="{{ item in items}}">
                <div>{{item.content}}</div>
            </template>
        </core-pages>
    </template>
    <script>
        Polymer('cmnodes-tabctrl', {
            ensureItem: function(itemId) {
                
            },
            closeTab: function(e, detail, sender) {
                tabCtrl = this.selected;
            },
            selectTab: function(e, detail, sender) {

            },
            // Fires when an instance of the element is created
            created: function() {},

            // Fires when the "<polymer-element>" has been fully prepared
            ready: function() {
                this.selected = 0;
            },

            // Fires when the elementâ€™s initial set of children and siblings are guaranteed to exist
            domReady: function() {},

            // Fires when the element was inserted into the document
            attached: function() {},

            // Fires when the element was removed from the document
            detached: function() {},

            // Fires when an attribute was added, removed, or updated
            attributeChanged: function(attr, oldVal, newVal) {
                val = oldVal;
            }
        });
    </script>

</polymer-element>